<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	>
	<h:head>
	</h:head>	
	<h:body>
		<h:form id="form1">	
				<p:button value="asdf" />
				<p:fileUpload mode="simple" id="imgInp" />
				<img id="target" src="#" alt="your image" />
		</h:form>
	</h:body>
<script type="text/javascript">
/*	<![CDATA[ */
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();            
            reader.onload = function (e) {
                $('#target').attr('src', e.target.result);
            }
            
            reader.readAsDataURL(input.files[0]);
        }
    }
    
    $("[id*='imgInp']").change(function(){
        readURL(this);
    });
/*	]]>	*/
	</script>
</html>